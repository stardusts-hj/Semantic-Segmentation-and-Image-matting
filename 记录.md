大致区分



抠图：实现人像背景分割

trimap：通过数字图像处理的腐蚀和膨胀

3d-view:重建



2021.04.17：完成抠图的任务


## 资源
人像分割任务算法
segmentation & matting
https://blog.csdn.net/sanshibayuan/article/details/103113343

已完成：将图像输入后，可以得到分割出的人物的图像

参考github仓库是





## deep image matting
### paper 
previous problem: 前后景太像，语义较为复杂
用深度神经网络的办法，学到high-level features以及 high-level context
matting: accurate foreground estimation 
$$
I_i = {\alpha}_i F_i + (1-{\alpha}_i)B_i  \quad  0 \leq {\alpha}_i \leq 1
$$
两个阶段的
1. deep conv encoder-decoder network : input  image and trimap ,  penalized by the alpha prediction loss and a novel compositional loss
	RGB and trimap  4 channel Input
	
	losses: alpha-prediction loss  &  compositional loss
	
	
	
	这里可以类比之前看过的DeConvNet的论文，通过 unpooling, deconvolution来实现element-wise semantic segmentation
	
2. small fully convolutional network: refine the alpha prediction with accurate values and sharper edges  **matting refinement stage**

​        fcnn : 3 cnn layers with ReLU and 1 output

​	   为了解决数据量少无法训练的问题，文章采用合成目标到新的背景中方法产生。首先找到背景简单的图像，抠图得到模板，然后通过MSCOCO数据集产生N个背景





### 代码
https://github.com/foamliu/Deep-Image-Matting

[(3条消息) Deep Image Matting实验总结_NoMorningstar的博客-CSDN博客](https://blog.csdn.net/qq_20657717/article/details/81809982)

https://github.com/Joker316701882/Deep-Image-Matting

数据集如下

[alpha Matting Evaluation Website](http://www.alphamatting.com/index.html)

(上面的网站也有一些实现)

自己训练(基于pytorch)：

1. 找到前景图，得到alpha map。生成到随机的背景中

2. 定义网络结构，参考论文作者的结构。编码解码

   encoder：14个卷积层， 5个max-pooling层 

   decoder：6个卷积层，5个反池化层

3. 定义loss函数以及optimizer

4. 







matlab实现的image matting

https://www.mathworks.com/matlabcentral/fileexchange/68168-alpha-matting

[(3条消息) 人像分割 X Image Matting（更新 2020/2/13）_sanshibayuan的博客-CSDN博客_人像分割](https://blog.csdn.net/sanshibayuan/article/details/103113343)






## single- view 3D
3-d parallax is lost 视差丢失

3D reconstruction
idea: model the scene as a set of planes, find the position and orientation of those planes

可能的恢复情况太多，use perceptive to help
**Multiple Images**
– Manual Reconstruction
• Façade [Debevec et al. 1996], REALVIZ Image Modeler, 
Photobuilder [Cipolla et al. 1999], [Zieglier et al. 2003], etc. 
– Automatic Reconstruction
• Structure from Motion (e.g. [Nister 2001], [Pollefeys et al. 2004])
**Single Image**
– Manual Reconstruction
• Metric ([Liebowitz et al. 1999], [Criminisi et al. 1999])
• Approximate: Tour into the Picture [Horry et al. 1997];
– Automatic Reconstruction
• Automatic Photo Pop-Up [Hoiem et al. 2005]

 **Properties**
- any two parallel lines have the save vanishing point v
- the ray from C through vanishing point v is parallel to the lines
- the union of these vanishing point is the horizon line (vanishing line)
- ray form eye to the vanishing point is perpendicular to image plane

![3dbox](E:\MSRA\MSRA_paper\3dbox.png)

learning structure of the world and appearance-based models of geometry
通过learning的方法，训练网络，输入一个image，输出为ground, vertical, sky，前景



## PlaneNet: piece-wise planar reconstruction from a single RGB Image

Dilated Residual Networks: 
three output branches 
1. plane parameters: Pi(每个平面用三个参数表示)        Di:depth
2. non-planar depthmap: D_{k+1}
3. segmentation masks: 

